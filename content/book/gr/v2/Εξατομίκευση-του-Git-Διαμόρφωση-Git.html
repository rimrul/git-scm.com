---
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: gr
  chapter:
    title: Εξατομίκευση του Git
    number: 8
  section:
    title: Διαμόρφωση Git
    number: 1
    cs_number: '8.1'
    previous: book/gr/v2/Εργαλεία-του-Git-Ανακεφαλαίωση
    next: book/gr/v2/Εξατομίκευση-του-Git-Γνωρίσματα-του-Git
title: Git - Διαμόρφωση Git

---
<p>Μέχρι στιγμής, έχουμε καλύψει τα βασικά σχετικά με τον τρόπο λειτουργίας του Git και τον τρόπο χρήσης του και έχουμε εισάγει διάφορα εργαλεία που παρέχει το Git για να μας βοηθήσει να το χρησιμοποιήσουμε εύκολα και αποτελεσματικά.
Σε αυτό το κεφάλαιο, θα δούμε πώς μπορούμε να κάνουμε το Git να λειτουργεί με πιο εξατομικευμένο τρόπο, εισάγοντας αρκετές σημαντικές ρυθμίσεις διαμόρφωσης και το σύστημα άγκιστρων.
Με αυτά τα εργαλεία, είναι εύκολο να κάνουμε το Git να λειτουργεί ακριβώς όπως εμείς, η εταιρεία μας ή η ομάδα μας το θέλουμε να λειτουργεί.</p>
<h2 id="r_git_config">Διαμόρφωση Git</h2>
<div class="paragraph">
<p>
Όπως έχουμε δει σύντομα στο <a href="ch00/ch01-introduction">Ξεκινώντας με το Git</a>, μπορούμε να καθορίσουμε τις ρυθμίσεις των παραμέτρων του Git με την εντολή <code>git config</code>.
Ένα από τα πρώτα πράγματα που κάναμε ήταν να δημιουργήσουμε το όνομά μας και τη διεύθυνση ηλεκτρονικού ταχυδρομείου μας:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>Τώρα θα μάθουμε μερικές από τις πιο ενδιαφέρουσες επιλογές που μπορούμε να ορίσουμε με αυτόν τον τρόπο για να προσαρμόσουμε τη χρήση του Git μας.</p>
</div>
<div class="paragraph">
<p>Πρώτα όμως, μια γρήγορη ανασκόπηση: Το Git χρησιμοποιεί μια σειρά αρχείων ρυθμίσεων (configuration files) για να καθορίσει τη μη προεπιλεγμένη συμπεριφορά που μπορεί να θέλουμε.
Το πρώτο μέρος στο οποίο ψάχνει το Git για αυτές τις τιμές είναι σε ένα αρχείο <code>/etc/gitconfig</code>, το οποίο περιέχει τιμές για κάθε χρήστη στο σύστημα και σε όλα τα αποθετήριά του.
Εάν τρέξουμε το <code>git config</code> με την επιλογή <code>--system</code>, τότε το Git διαβάζει από και γράφει σε αυτό το αρχείο συγκεκριμένα.</p>
</div>
<div class="paragraph">
<p>Το επόμενο μέρος στο οποίο ψάχνει το Git είναι το αρχείο <code>~/.gitconfig</code> (ή <code>~/.config/git/ config</code>), το οποίο είναι συγκεκριμένος για κάθε χρήστη.
Μπορούμε να κάνουμε το Git να διαβάζει από και να γράφει σε αυτό το αρχείο περνώντας την επιλογή <code>--global</code>.</p>
</div>
<div class="paragraph">
<p>Τέλος, το Git αναζητά τιμές διαμόρφωσης στο αρχείο ρυθμίσεων στον κατάλογο του Git (<code>.git/config</code>) του οποιουδήποτε αποθετηρίου χρησιμοποιούμε αυτήν τη στιγμή.
Αυτές οι τιμές είναι συγκεκριμένες για αυτό το αποθετήριο.</p>
</div>
<div class="paragraph">
<p>Καθένα από αυτά τα “επίπεδα” (σύστημα, παγκόσμιο, τοπικό) παρακάμπτει τις τιμές του προηγούμενου επίπεδου, έτσι ώστε, για παράδειγμα, οι τιμές στο <code>.git/config</code> παρακάμπτουν εκείνες του <code>/etc/gitconfig</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Τα αρχεία ρυθμίσεων του Git είναι απλό κείμένο, επομένως μπορούμε επίσης να ορίσουμε αυτές τις τιμές με χειροκίνητη επεξεργασία του αρχείου και εισαγωγή της σωστής σύνταξης.
Πάντως γενικά είναι ευκολότερο να εκτελέσουμε την εντολή <code>git config</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h3 id="_βασική_διαμόρφωση_πελάτη">Βασική διαμόρφωση πελάτη</h3>
<div class="paragraph">
<p>Οι επιλογές διαμόρφωσης που αναγνωρίζονται από το Git εμπίπτουν σε δύο κατηγορίες: πλευράς πελάτη και πλευράς διακομιστή.
Η πλειονότητα των επιλογών είναι από την πλευρά του πελάτη —διαμόρφωση των προσωπικών μας προτιμήσεων εργασίας.
Υποστηρίζονται <em>πολλές</em> επιλογές διαμόρφωση, αλλά ένα μεγάλο μέρος από αυτές είναι χρήσιμες μόνο σε ορισμένες οριακές περιπτώσεις.
Εδώ θα καλύψουμε μόνο τις πιο συνηθισμένες και πιο χρήσιμες.
Εάν θέλουμε να δούμε μια λίστα με όλες τις επιλογές που αναγνωρίζει η έκδοση του Git, μπορούμε να εκτελέσουμε</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ man git-config</code></pre>
</div>
</div>
<div class="paragraph">
<p>Αυτή η εντολή παραθέτει περιέχει όλες τις διαθέσιμες επιλογές με αρκετές λεπτομέρειες.
Μπορούμε επίσης να βρούμε αυτό το υλικό αναφοράς στη διεύθυνση <a href="http://git-scm.com/docs/git-config.html" class="bare">http://git-scm.com/docs/git-config.html</a>.</p>
</div>
<div class="paragraph">
<p>
===== 'core.editor`</p>
</div>
<div class="paragraph">
<p>Προκειμένου να δημιουργήσουμε και να επεξεργαστούμε τα μηνύματα <code>commit</code> και <code>tag</code>, το Git χρησιμοποιεί όποιον επεξεργαστή κειμένου έχουμε ορίσει ως προεπιλεγμένο (<code>$VISUAL</code> ή <code>$EDITOR</code>) ή αλλιώς μετακυλά στον επεξεργαστή <code>vi</code> .
Για να αλλάξουμε αυτήν την προεπιλογή σε κάτι άλλο, μπορούμε να χρησιμοποιήσουμε τη ρύθμιση <code>core.editor</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.editor emacs</code></pre>
</div>
</div>
<div class="paragraph">
<p>Τώρα, ανεξάρτητα από το τι έχει οριστεί ως προεπιλεγμένος επεξεργαστής στο κέλυφος, το Git θα τρέξει τον Emacs για να επεξεργαστεί τα μηνύματα.</p>
</div>
<div class="sect4">
<h4 id="_commit_template"><code>commit.template</code></h4>
<div class="paragraph">
<p>
Εάν ορίσουμε αυτήν την παράμετρο να έχει ως τιμή τη διαδρομή ενός αρχείου στο σύστημά μας, το Git θα χρησιμοποιεί αυτό το αρχείο ως το προεπιλεγμένο μήνυμα όταν υποβάλλουμε.
Για παράδειγμα, ας υποθέσουμε ότι δημιουργούμε ένα πρότυπο (template) αρχείο στο <code>~/.gitmessage.txt</code> που μοιάζει με αυτό:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>subject line

what happened

[ticket: X]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Για να πούμε στο Git να το χρησιμοποιήσει ως προεπιλεγμένο μήνυμα που εμφανίζεται στον επεξεργαστή μας όταν εκτελούμε το <code>git commit</code>, ορίζουμε την παράμετρο διαμόρφωσης <code>commit.template</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global commit.template ~/.gitmessage.txt
$ git commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Στη συνέχεια όταν υποβάλλουμε, ο επεξεργαστής κειμένου μας θα εμφανίσει κάτι τέτοιο ως προτροπή για μήνυμα υποβολής:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>subject line

what happened

[ticket: X]
# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# Changes to be committed:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#
# modified:   lib/test.rb
#
~
~
".git/COMMIT_EDITMSG" 14L, 297C</code></pre>
</div>
</div>
<div class="paragraph">
<p>Εάν η ομάδα μας έχει μια πολιτική για τα μηνύματα υποβολής, τότε η τοποθέτηση ενός προτύπου για αυτήν την πολιτική στο σύστημά μας και η διαμόρφωση του Git να το χρησιμοποιεί εκ προεπιλογής θα αυξήσει την πιθανότητα να ακολουθείται τακτικά αυτή η πολιτική.</p>
</div>
</div>
<div class="sect4">
<h4 id="_core_pager"><code>core.pager</code></h4>
<div class="paragraph">
<p>
Αυτή η ρύθμιση καθορίζει ποιος σελιδοποιητής (pager) χρησιμοποιείται όταν το Git παραθέτει έξοδο όπως <code>log</code> και <code>diff</code>.
Μπορούμε να διοχετεύσουμε την έξοδο στον <code>more</code> ή στον αγαπημένο μας σελιδοποιητή (εκ προεπιλογής, είναι ο <code>less</code>) ή μπορούμε να την απενεργοποιήσουμε θέτοντάς τη σε μια κενή συμβολοσειρά:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.pager ''</code></pre>
</div>
</div>
<div class="paragraph">
<p>Εάν εκτελέσουμε το παραπάνω, το Git θα εμφανίσει ολόκληρη την έξοδο όλων των εντολών, ανεξάρτητα από το μακροσκελής είναι.</p>
</div>
</div>
<div class="sect4">
<h4 id="_user_signingkey"><code>user.signingkey</code></h4>
<div class="paragraph">
<p>
Εάν δημιουργούμε υπογεγραμμένες επισημειωμένες ετικέτες (όπως συζητήθηκε στην ενότητα <a href="ch00/r_signing">Υπογραφή της δουλειάς μας</a>), η ρύθμιση του κλειδιού υπογραφής GPG ως τιμή παραμέτρου διευκολύνει την κατάσταση.
Ορίζουμε το ID κλειδιού μας ως εξής:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global user.signingkey &lt;id_κλειδιού_gpg&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Τώρα, μπορούμε να υπογράφουμε ετικέτες χωρίς να χρειάζεται να καθορίζουμε το κλειδί μας κάθε φορά με την εντολή <code>git tag</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git tag -s &lt;tag-name&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h4 id="_core_excludesfile"><code>core.excludesfile</code></h4>
<div class="paragraph">
<p>
Μπορούμε να βάλουμε μοτίβα στο αρχείο <code>.gitignore</code> του έργου μας, ώστε να το Git να μην τα βλέπει μη-παρακολουθούμενα αρχεία ή προσπαθεί να τα βάλει στο στάδιο καταχώρισης τρέχουμε <code>git add</code> σε αυτά, όπως αναφέρθηκε στην ενότητα <a href="ch00/r_ignoring">Αγνοώντας αρχεία</a>.</p>
</div>
<div class="paragraph">
<p>Όμως μερικές φορές θέλουμε να αγνοήσουμε ορισμένα αρχεία για όλα τα αποθετήρια με τα οποία εργαζόμαστε.
Εάν ο υπολογιστής μας τρέχει σε Mac OS X, ίσως γνωρίζουμε τα αρχεία <code>.DS_Store</code>· αν ο προτιμώμενος επεξεργαστής μας είναι ο Emacs ή ο Vim, γνωρίζουμε τα αρχεία που τελειώνουν σε <code>~</code>.</p>
</div>
<div class="paragraph">
<p>Αυτή η ρύθμιση μάς επιτρέπει να γράψουμε ένα είδος καθολικού αρχείου <code>.gitignore</code>.
Εάν δημιουργήσουμε ένα αρχείο <code>~/.gitignore_global</code> με αυτά τα περιεχόμενα:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>*~
.DS_Store</code></pre>
</div>
</div>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>και τρέχουμε το <code>git config --global core.excludesfile ~/.gitignore_global</code>, το Git δεν θα μας ενοχλήσει ξανά για αυτά τα αρχεία.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h4 id="_help_autocorrect"><code>help.autocorrect</code></h4>
<div class="paragraph">
<p>
Εάν πληκτρολογήσουμε λανθασμένα μια εντολή, μας δείχνει κάτι τέτοιο:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git chekcout master
git: 'chekcout' is not a git command. See 'git --help'.

Did you mean this?
    checkout</code></pre>
</div>
</div>
<div class="paragraph">
<p>Το Git προσπαθεί να καταλάβει τι εννοούσαμε, αλλά εξακολουθεί να αρνείται να το κάνει.
Αν ορίσουμε την επιλογή <code>help.autocorrect</code> στην τιμή 1, τότε το Git θα τρέξει την εντολή αντί για εμάς:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git chekcout master
WARNING: You called a Git command named 'chekcout', which does not exist.
Continuing under the assumption that you meant 'checkout'
in 0.1 seconds automatically...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ας σημειωθεί ότι το “0.1 seconds” προκύπτει από την τιμή 1 στην οποία θέσαμε το  <code>help.autocorrect</code>, αφού στην πραγματικότητα η <code>help.autocorrect</code> είναι ένας ακέραιος που αναπαριστά δέκατα του δευτερολέπτου.
Έτσι, αν τη θέσουμε στην τιμή 50, το Git θα περιμένει 5 δευτερόλεπτα να αλλάξουμε γνώμη πριν εκτελέσει αυτο-διορθωμένη εντολή.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_χρώματα_στο_git">Χρώματα στο Git</h3>
<div class="paragraph">
<p>
Το Git υποστηρίζει πλήρως την έγχρωμη εκτύπωση στο τερματικού, η οποία βοηθά σημαντικά στη γρήγορη και εύκολη παραγωγή των εντολών.
Ορισμένες επιλογές μπορούν να μας βοηθήσουν να ορίσουμε τον χρωματισμό στις προτιμήσεις μας.</p>
</div>
<div class="sect4">
<h4 id="_color_ui"><code>color.ui</code></h4>
<div class="paragraph">
<p>Το Git χρωματίζει αυτόματα το μεγαλύτερο μέρος της εξόδου του, αλλά υπάρχει ένας κύριος διακόπτης με τον οποίο μπορούμε να απενεργοποιήσουμε αυτήν τη συμπεριφορά, αν δεν μας αρέσει.
Για να απενεργοποιήσουμε την έγχρωμη έξοδο του τερματικού Git, κάνουμε τα εξής:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global color.ui false</code></pre>
</div>
</div>
<div class="paragraph">
<p>Η προεπιλεγμένη ρύθμιση είναι <code>auto</code>, με την οποία τα χρωματίζεται η έξοδος όταν πηγαίνει κατευθείαν σε ένα τερματικό, αλλά ο χρωματισμός των κωδικών ελέγχου παραλείπεται όταν η έξοδος ανακατευθύνεται σε παροχέτευση (pipe) ή αρχείο.</p>
</div>
<div class="paragraph">
<p>Μπορούμε επίσης να τη ρυθμίσουμε σε <code>always</code> για να αγνοήσουμε τη διαφορά μεταξύ των τερματικών και των παροχετεύσεων.
Αυτό είναι κάτι που Θα το θέλουμε σπάνια· στις περισσότερες περιπτώσεις εάν θέλουμε χωρματικούς κώδικες χρώματος στην έξοδο, μπορούμε απλά να περάσουμε μια σημαία <code>--color</code> στην εντολή Git για να την εξαναγκάσουμε να χρησιμοποιήσει χρωματικούς κώδικες.
Η προεπιλεγμένη ρύθμιση είναι σχεδόν πάντα αυτό που θα θελήσουμε.</p>
</div>
</div>
<div class="sect4">
<h4 id="_color"><code>color.*</code></h4>
<div class="paragraph">
<p>Εάν θέλουμε να είμαστε πιο συγκεκριμένοι σχετικά με το ποιες εντολές θέλουμε να είναι χρωματισμένες και πώς, το Git παρέχει ρυθμίσεις χρωματισμού συγκεκριμένων εντολών.
Καθεμία από αυτές μπορεί να οριστεί σε 'true`, 'false` ή <code>always</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>color.branch
color.diff
color.interactive
color.status</pre>
</div>
</div>
<div class="paragraph">
<p>Επιπλέον, καθεμία από αυτές έχει υπο-ρυθμίσεις διαιρέσεις που μπορούμε να χρησιμοποιήσουμε για να ορίσουμε συγκεκριμένα χρώματα για τμήματα της εξόδου, αν θέλουμε να παρακάμψουμε κάθε χρώμα.
Για παράδειγμα, για να ορίσουμε τις μετα-πληροφορίες στην έξοδο diff μας σε μπλε προσκήνιο, μαύρο φόντο και έντονο κείμενο, μπορούμε να εκτελέσουμε</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git config --global color.diff.meta "blue black bold"</pre>
</div>
</div>
<div class="paragraph">
<p>Μπορούμε να ορίσουμε το χρώμα σε οποιαδήποτε από τις ακόλουθες τιμές: <code>normal</code>, <code>black</code>, <code>red</code>, <code>green</code>, <code>yellow</code>, <code>blue</code>, <code>magenta</code>, <code>cyan</code> ή <code>white</code>.</p>
</div>
<div class="paragraph">
<p>Εάν θέλουμε ένα χαρακτηριστικό, όπως οι έντονοι χαρακτήρες στο προηγούμενο παράδειγμα, μπορούμε να επιλέξουμε από <code>bold</code>, <code>dim</code>, <code>ul</code> (υπογράμμιση), <code>blink</code> και <code>reverse</code> (εναλλαγή προσκηνίου και φόντου).</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="r_external_merge_tools">Εξωτερικά εργαλεία συγχώνευσης και diff</h3>
<div class="paragraph">
<p>
Παρόλο που το Git έχει μια εσωτερική υλοποίηση της diff, που είναι αυτό που έχουμε δείξει σε αυτό το βιβλίο, μπορούμε να εγκαταστήσουμε ένα εξωτερικό εργαλείο αντί αυτού.
Μπορούμε επίσης να ορίσουμε ένα γραφικό εργαλείο επίλυσης σσυγκρούσεων συγχώνευσης αντί να χρειάζεται να επιλύσουμε χειροκίνητα τις συγκρούσεις.
Θα επιδείξουμε τη ρύθμιση του Perforce Visual Merge Tool (P4Merge) για να κάνουμε τις επιλύσεις της diff και των συγχωνεύσεων, επειδή είναι ένα ωραίο γραφικό εργαλείο και είναι δωρεάν.</p>
</div>
<div class="paragraph">
<p>Αν θέλουμε να το δοκιμάσουμε, το P4Merge λειτουργεί σε όλες τις μεγάλες πλατφόρμες, οπότε θα πρέπει να είμαστε σε θέση να το κάνουμε.
Στα παραδείγματα Θα χρησιμοποιήσουμε ονόματα διαδρομών που λειτουργούν σε συστήματα Mac και Linux· για Windows, θα πρέπει να αλλάξουμε το <code>/usr/local/bin</code> σε μια εκτελέσιμη διαδρομή στο περιβάλλον μας.</p>
</div>
<div class="paragraph">
<p>Για να ξεκινήσουμε, πρέπει να κατεβάσουμε το P4Merge από την  <a href="http://www.perforce.com/downloads/Perforce/" class="bare">http://www.perforce.com/downloads/Perforce/</a>.
Στη συνέχεια θα δημιουργήσουμε εξωτερικά wrapper script για να εκτελέσουμε τις εντολές μας.
Θα χρησιμοποιήσουμε τη διαδρομή Mac για το εκτελέσιμο· σε άλλα συστήματα, θα είναι όπου θα εγκατασταθεί το δυαδικό αρχείο <code>p4merge</code>.
Ρυθμίζουμε ένα wrapper script συγχώνευσης που ονομάζεται <code>extMerge</code> και καλεί το εκτελέσιμο αρχείο μας με όλες τις παραμέτρους:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /usr/local/bin/extMerge
#!/bin/sh
/Applications/p4merge.app/Contents/MacOS/p4merge $*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Το περιτύλιγμα της diff ελέγχει για να βεβαιωθεί ότι υπάρχουν επτά παράμετροι και μεταβιβάζει δύο από αυτές στο script συγχώνευσης.
Εκ προεπιλογής, το Git διαβιβάζει τις ακόλουθες παραμέτρους στο πρόγραμμα diff:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>path old-file old-hex old-mode new-file new-hex new-mode</code></pre>
</div>
</div>
<div class="paragraph">
<p>Επειδή θέλουμε μόνο τις παραμέτρους <code>old-file</code> και` new-file`, χρησιμοποιούμε το wrapper script για να περάσουμε αυτές που χρειαζόμαστε.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /usr/local/bin/extDiff
#!/bin/sh
[ $# -eq 7 ] &amp;&amp; /usr/local/bin/extMerge "$2" "$5"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Πρέπει επίσης να βεβαιωθούμε ότι αυτά τα εργαλεία είναι εκτελέσιμα:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo chmod +x /usr/local/bin/extMerge
$ sudo chmod +x /usr/local/bin/extDiff</code></pre>
</div>
</div>
<div class="paragraph">
<p>Τώρα μπορούμε να ρυθμίσουμε το αρχείο config για να χρησιμοποιήσουμε τα προσαρμοσμένα εργαλεία επίλυσης συγχωνεύσεων και diff.
Αυτό χρειάζεται μερικές ρυθμίσεις: <code>merge.tool</code> για να πει στο Git ποια στρατηγική να χρησιμοποιήσει, <code>mergetool.&lt;εργαλείο&gt;.cmd</code> για να καθορίσει τον τρόπο εκτέλεσης της εντολής, mergetool.&lt;εργαλείο&gt;.trustExitCode για να πει στο Git αν ο κωδικός τερματισμού του προγράμματος υποδεικνύει μια επιτυχημένη επίλυση συγχώνευσης ή όχι και <code>diff.external</code> για να πει στο Git τι εντολή τρέχει για τα diff.
Έτσι, μπορούμε είτε να εκτελέσουμε τέσσερις εντολές config</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global merge.tool extMerge
$ git config --global mergetool.extMerge.cmd \
  'extMerge \"$BASE\" \"$LOCAL\" \"$REMOTE\" \"$MERGED\"'
$ git config --global mergetool.extMerge.trustExitCode false
$ git config --global diff.external extDiff</code></pre>
</div>
</div>
<div class="paragraph">
<p>είτε να επεξεργαστούμε το αρχείο <code>~/.gitconfig</code> για να προσθέσουμε αυτές τις γραμμές:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ini" data-lang="ini">[merge]
  tool = extMerge
[mergetool "extMerge"]
  cmd = extMerge "$BASE" "$LOCAL" "$REMOTE" "$MERGED"
  trustExitCode = false
[diff]
  external = extDiff</code></pre>
</div>
</div>
<div class="paragraph">
<p>Μετά από όλα αυτά, εάν εκτελέσουμε κάποια εντολή diff όπως αυτή:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff 32d1776b1^ 32d1776b1</code></pre>
</div>
</div>
<div class="paragraph">
<p>αντί να πάρουμε την έξοδο diff στη γραμμή εντολών, το Git ξεκινά το P4Merge, το οποίο μοιάζει με αυτό:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/en/v2/images/p4merge.png" >}}" alt="P4Merge.">
</div>
<div class="title">Figure 143. P4Merge.</div>
</div>
<div class="paragraph">
<p>Εάν προσπαθήσουμε να συγχωνεύσουμε δύο κλάδους και στη συνέχεια έχουμε συγκρούσεις συγχώνευσης, μπορούμε να εκτελέσουμε την εντολή <code>git mergetool</code>· θα ξεκινήσει το P4Merge για να μας επιτρέψει να επιλύσουμε τις συγκρούσεις μέσω αυτού του γραφικού εργαλείου.</p>
</div>
<div class="paragraph">
<p>Το ωραίο με αυτήν τη ρύθυμιση wrapper είναι ότι μπορούμε να αλλάξουμε εύκολα τα εργαλεία diff και συγχώνευσης.
Για παράδειγμα, για να αλλάξουμε τα εργαλεία <code>extDiff</code> και <code>extMerge</code> και να εκτελέσουμε το εργαλείο KDiff3, το μόνο που έχουμε να κάνουμε είναι να επεξεργαστούμε το αρχείο <code>extMerge</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /usr/local/bin/extMerge
#!/bin/sh
/Applications/kdiff3.app/Contents/MacOS/kdiff3 $*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Τώρα, το Git θα χρησιμοποιήσει το εργαλείο KDiff3 για την προβολή των diff και την επίλυση  συγκρούσεων συγχώνευσης.</p>
</div>
<div class="paragraph">
<p>Το Git είναι προ-ρυθμισμένο ώστε να χρησιμοποιεί διάφορα άλλα εργαλεία επίλυσης συγκρούσεων συγχώνευσης χωρίς να χρειάζεται να ρύθμιση της cmd.
Για να δούμε μια λίστα με τα εργαλεία που υποστηρίζει, μπορούμε να κάνουμε το εξής:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mergetool --tool-help
'git mergetool --tool=&lt;tool&gt;' may be set to one of the following:
        emerge
        gvimdiff
        gvimdiff2
        opendiff
        p4merge
        vimdiff
        vimdiff2

The following tools are valid, but not currently available:
        araxis
        bc3
        codecompare
        deltawalker
        diffmerge
        diffuse
        ecmerge
        kdiff3
        meld
        tkdiff
        tortoisemerge
        xxdiff

Some of the tools listed above only work in a windowed
environment. If run in a terminal-only session, they will fail.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Αν δεν ενδιαφερόμαστε να χρησιμοποιήσουμε το KDiff3 για diff, αλλά θέλουμε να το χρησιμοποιήσουμε μόνο για επίλυση συγκρούσεων συγχώνευσης και η εντολή kdiff3 βρίσκεται στη διαδρομή μας, τότε μπορούμε να εκτελέσουμε</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global merge.tool kdiff3</code></pre>
</div>
</div>
<div class="paragraph">
<p>Αν τρέξουμε αυτό αντί να ρυθμίσουμε τα αρχεία <code>extMerge</code> και` extDiff`, το Git θα χρησιμοποιήσει το KDiff3 για την ανάλυση συγχώνευσης και το κανονικό εργαλείο diff του Git για τις διαφορές.</p>
</div>
</div>
<div class="sect3">
<h3 id="_μορφοποίηση_και_λευκοί_χαρακτήρες">Μορφοποίηση και λευκοί χαρακτήρες</h3>
<div class="paragraph">
<p>
Τα ζητήματα της μορφοποίησης και των λευκών χαρακτήρων είναι από τα προβλήματα που είναι δυσδιάκριτα και προκαλούν μεγάλη αγανάκτηση στους προγραμματιστές όταν συνεργάζονται, ειδικά αν εργάζονται σε διαφορετικές πλατφόρμες.
Είναι πολύ εύκολο τα επιθέματα ή άλλες συνεργατικές εργασίες να εισάγουν δυσδιάκριτες αλλαγές στους λευκούς χαρακτήρες, επειδή οι επεξεργαστές κειμένου τους εισάγουν σιωπηλά και αν τα αρχεία μας έστω αγγίξουν ένα σύστημα των Windows, οι χαρακτήρες αλλαγής γραμμής τους ενδέχεται να αντικατασταθούν.
Το Git έχει μερικές επιλογές για να βοηθήσει σε αυτά τα θέματα.</p>
</div>
<div class="sect4">
<h4 id="_core_autocrlf"><code>core.autocrlf</code></h4>
<div class="paragraph">
<p>
Εάν προγραμματίζουμε σε Windows και εργαζόμαστε με άτομα που δεν δουλεύουν σε άλλη πλατφόρμα (ή το αντίστροφο), πιθανότατα θα συναντήσουμε προβλήματα σχετικά με τους χαρακτήρες τερματισμού των γραμμών.
Αυτό οφείλεται στο γεγονός ότι τα Windows χρησιμοποιούν τόσο χαρακτήρα επαναφοράς (carriage return —CR) όσο και αλλαγής γραμμής (line feed —LF) για την αλλαγή γραμμής στα αρχεία του ενώ τα συστήματα Mac και Linux χρησιμοποιούν μόνο τον χαρακτήρα αλλαγής γραμμής.
Αυτό είναι ένα λεπτό, αλλά απίστευτα ενοχλητικό γεγονός της εργασίας σε διαφορετικές πλατφόρμες· πολλοί επεξεργαστές στα Windows σιωπηρά αντικαθιστούν τους υπάρχοντες χαρακτήρες τερματισμού γραμμών LF με CRLF ή εισάγουν και τους δύο χαρακτήρες αλλαγής γραμμής όταν ο χρήστης πατήσει το πλήκτρο Enter.</p>
</div>
<div class="paragraph">
<p>Το Git μπορεί να το χειριστεί αυτόματα μετατρέποντας τις λήξεις γραμμών CRLF σε LF όταν προσθέτουμε ένα αρχείο στο ευρετήριο και αντίστροφα όταν μεταφέρει κώδικα στο σύστημα αρχείων μας.
Μπορούμε να ενεργοποιήσουμε αυτήν τη λειτουργία με τη ρύθμιση <code>core.autocrlf</code>.
Αν βρισκόμαστε σε μηχάνημα Windows, το ρυθμίζοζυμε σε <code>true</code> —αυτό μετατρέπει τους χαρακτήρες τερματισμού γραμμής LF σε CRLF όταν κάνουμε ενημερώνουμε (checkout) τον κώδικα:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.autocrlf true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Αν βρισκόμαστε σε ένα σύστημα Linux ή Mac που χρησιμοποιεί τερματισμούς γραμμής LF, τότε δεν θέλουμε το Git να τα μετατρέπει αυτόματα όταν ενημερώνουμε (checkout) τα αρχεία. Ωστόσο, εάν ένα αρχείο με λήξεις CRLF εισαχθεί τυχαία, τότε ίσως θέλουμε το Git να το διορθώσει.
Μπορούμε να πούμε στο Git να μετατρέψει το CRLF σε LF για την commit, αλλά όχι το αντίστροφο, θέτοντας το <code>core.autocrlf</code> για είσοδο:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.autocrlf input</code></pre>
</div>
</div>
<div class="paragraph">
<p>Αυτή η ρύθμιση θα μας αφήσει με τερματισμούς γραμμών CRLF στην ενημέρωση (checkout) σε Windows, αλλά τερματισμούς LF τερματισμούς σε συστήματα Mac και Linux και στο αποθετήριο.</p>
</div>
<div class="paragraph">
<p>Εάν είμαστε προγραμματιστές Windows και εκτελούμε ένα έργο μόνο για Windows, τότε μπορούμε να απενεργοποιήσουμε αυτήν τη λειτουργία, καταγράφοντας τις επαναφορές φορέα στο αποθετήριο θέτοντας την τιμή <code>core.autocrlf</code> σε <code>false</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.autocrlf false</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h4 id="_core_whitespace"><code>core.whitespace</code></h4>
<div class="paragraph">
<p>Το Git έρχεται προκαθορισμένο για να ανιχνεύσει και να διορθώνει κάποια κενά θέματα λευκών χαρακτήρων.
Μπορεί να αναζητήσει έξι συνήθη προβλήματα με λευκούς χαρακτήρες —τρία είναι ενεργοποιημένα εκ προεπιλογής και μπορούν να απενεργοποιηθούν και τρία είναι απενεργοποιημένα εκ προεπιλογής, αλλά μπορούν να ενεργοποιηθούν.</p>
</div>
<div class="paragraph">
<p>Τα τρία που είναι ενεργοποιημένα εκ προεπιλογής είναι: το <code>blank-at-eol</code>, που αναζητά διαστήματα στο τέλος μιας γραμμής· το <code>blank-at-eof</code>, που αναζητά κενές γραμμές στο τέλος ενός αρχείου· και το ‘space-before-tab’, που αναζητά κενά πριν από στηλοθέτες (tabs) στην αρχή μιας γραμμής.</p>
</div>
<div class="paragraph">
<p>Τα τρία που είναι απενεργοποιημένα εκ προεπιλογής, αλλά μπορούν να ενεργοποιηθούν είναι: το <code>indent-with-non-tab</code>, που αναζητά γραμμές που αρχίζουν με κενά αντί για στηλοθέτες (και ελέγχεται από την επιλογή <code>tabwidth</code>)· το <code>tab-in-indent</code>, που ψάχνει για στηλοθέτες στην εσοχής μιας γραμμής· και το <code>cr-at-eol</code>, που λέει στο Git ότι οι χαρακτήρες επαναφοράς φορέα στο τέλος των γραμμών επιτρέπονται.</p>
</div>
<div class="paragraph">
<p>Μπορούμε να πούμε στο Git ποια από αυτά θέλουμε να ενεργοποιήσουμε θέτοντας <code>core.whitespace</code> στις τιμές που θέλουμε ή όχι, χωρισμένες με κόμματα.
Μπορούμε να απενεργοποιήσουμε τις ρυθμίσεις είτε αφήνοντας τις έξω από τη συμβολοσειρά ρυθμίσεων είτε προτάσσοντας ένα <code>-</code> μπροστά από την τιμή.
Για παράδειγμα, αν τα θέλουμε όλα εκτός από το <code>cr-at-eol</code>, μπορούμε να το κάνουμε ως εξής:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global core.whitespace \
    trailing-space,space-before-tab,indent-with-non-tab</code></pre>
</div>
</div>
<div class="paragraph">
<p>Το Git θα ανιχνεύσει αυτά τα θέματα όταν εκτελούμε μια εντολή <code>git diff</code> και θα προσπαθήσει να τα χρωματίσει ώστε ενδεχομένως να μπορέσουμε να τα διορθώσουμε πριν τα υποβάλλουμε.
Επίσης, θα χρησιμοποιήσει αυτές τις τιμές για να μας βοηθήσει όταν εφαρμόζουμε επιθέματα με το <code>git apply</code>.
Όταν εφαρμόζουμε επιθέματα, μπορούμε να ζητήσουμε από το Git να μας προειδοποιήσει εάν αυτά έχουν τα συγκεκριμένα προβλήματα λευκών χαρακτήρων:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git apply --whitespace=warn &lt;επίθεμα&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ή μπορούμε να βάλουμε το Git να προσπαθήσει να διορθώσει αυτόματα το πρόβλημα πριν την εφαρμογή του επιθέματος:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git apply --whitespace=fix &lt;επίθεμα&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Αυτές οι επιλογές ισχύουν και για την εντολή <code>git rebase</code>.
Αν έχουμε υποβάλει προβλήματα με λευκούς χαρακτήρες, αλλά δεν έχουμε ωθήσει ακόμα, μπορούμε να εκτελέσουμε την <code>git rebase --whitespace = fix</code> ώστε το Git να διορθώσει αυτόματα τα προβλήματα με τους λευκούς χαρακτήρες, καθώς ξαναγράφει τα επιθέματα.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_ρυθμίσεις_διακομιστή">Ρυθμίσεις διακομιστή</h3>
<div class="paragraph">
<p>Αν και δεν υπάρχουν πολλές επιλογές διαμόρφωσης για την πλευρά του διακομιστή στο Git, υπάρχουν πάντως μερικές ενδιαφέρουσες που ενδεχομένως αξίζει να τις λάβουμε υπόψη.</p>
</div>
<div class="sect4">
<h4 id="_receive_fsckobjects"><code>receive.fsckObjects</code></h4>
<div class="paragraph">
<p>Το Git είναι σε θέση να βεβαιωθεί ότι κάθε αντικείμενο που λαμβάνεται κατά τη διάρκεια μιας ώθησης εξακολουθεί να ταιριάζει με το άθροισμα ελέγχου SHA-1 και επισημαίνει έγκυρα αντικείμενα.
Ωστόσο, αυτό δεν το κάνει εκ προεπιλογής· είναι μια αρκετά ακριβή λειτουργία και μπορεί να επιβραδύνει τη λειτουργία, ειδικά σε μεγάλα αποθετήρια ή ωθήσεις.
Αν θέλουμε το Git να ελέγχει τη συνέπεια των αντικειμένων σε κάθε ώθηση, μπορούμε να το αναγκάσουμε να το κάνει θέτοντας την <code>receive.fsckObjects</code> σε <code>true</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --system receive.fsckObjects true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Τώρα το Git θα ελέγχει την ακεραιότητα του αποθετηρίου μας πριν γίνεται αποδεκτή κάθε ώθηση για να βεβαιωθεί ότι οι ελαττωματικοί (ή κακόβουλοι) πελάτες δεν εισάγουν διεφθαρμένα δεδομένα.</p>
</div>
</div>
<div class="sect4">
<h4 id="_receive_denynonfastforwards"><code>receive.denyNonFastForwards</code></h4>
<div class="paragraph">
<p>Εάν αλλάξουμε τη βάση υποβολής που έχουμε ήδη ωθήσει και στη συνέχεια προσπαθούμε να την ξαναωθήσουμε ή με κάποιον άλλο τρόπο επιχειρούμε να ωθήσουμε μια υποβολή σε ένα απομακρυσμένο κλάδο που δεν περιέχει την υποβολή στην οποία δείχνει ο απομακρυσμένος τρέχων κλάδος, θα εισπράξουμε άρνηση.
Αυτή είναι γενικά καλή πολιτική· αλλά στην περίπτωση της αλλαγής βάσης, μπορούμε να δηλώσουμε ότι γνωρίζουμε τι κάνουμε και μπορούμε να επιβάλουμε την ενημέρωση του  απομακρυσμένου κλάδου με μια σημαία <code>-f</code> στην εντολή <code>push</code>.</p>
</div>
<div class="paragraph">
<p>Για να πούμε στο Git να αρνείται τις υποχρεωτικές ωθήσεις, θέτουμς <code>receive.denyNonFastForwards</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --system receive.denyNonFastForwards true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ο άλλος τρόπος με τον οποίο μπορούμε να κάνουμε αυτό είναι μέσω των αγκίστρων λήψης από την πλευρά του διακομιστή, τα οποία θα καλύψουμε λίγο.
Αυτή η προσέγγιση μάς επιτρέπει να κάνουμε πιο περίπλοκα πράγματα, όπως να αρνηθούμε μη-ταχείς προωθήσεις σε ένα συγκεκριμένο υποσύνολο χρηστών.</p>
</div>
</div>
<div class="sect4">
<h4 id="_receive_denydeletes"><code>receive.denyDeletes</code></h4>
<div class="paragraph">
<p>Ένας από τους τρόπους αντιμετώπισης της πολιτικής <code>denyNonFastForwards</code> είναι ο χρήστης να διαγράψει τον κλάδο και στη συνέχεια να τον ωθήσει ξανά με τη νέα αναφορά.
Για να το αποφύγουμε αυτό, ορίζουμε την επιλογή <code>receive.denyDeletes</code> σε <code>true</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --system receive.denyDeletes true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Αυτό αρνείται τη διαγραφή κλάδων ή ετικετών —κανένας χρήστης δεν μπορεί να το κάνει.
Για να καταργήσουμε απομακρυσμένους κλάδους, πρέπει να αφαιρέσουμε τα αρχεία ref από τον διακομιστή με μη-αυτόματο τρόπο.
Υπάρχουν επίσης πιο ενδιαφέροντες τρόποι για να το κάνουμε αυτό ανά χρήστη μέσω ACLs, όπως θα μάθουμε στο <a href="ch00/r_an_example_git_enforced_policy">Ένα παράδειγμα επιβολής πολιτικής από το Git</a>.</p>
</div>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>